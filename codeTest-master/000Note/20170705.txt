
程XX统一用户ID：16817d10603e4c8a9a92251fb937501f
我的：f9718214514e4f01baf775a96be3d1d7

****针对绿色生活月刊周末两天自测问题笔记*****
1.获取卡号信息的时候“OK”和“fail”并不表示数据获取成功和失败（失败的话会直接走ajax的error出口，不用在数据操作时判断操作），
而是表示数据的有无，实际上所有本项目的所有服务页的数据返回都是遵照这个原则。故而在项目中通过fail来判断“用户信息获取失败”
是不合理的，进而控制页面的相关逻辑是不正确的。测试中，因为获取卡信息为空的时候，发现无法登入（实际上调试发现用户id和level已经成功获取）
原因在于promise嵌套最后只会返回获取卡信息的状态，如果失败就不会进入查询页并初始化查询页

2.根据上诉说法，控制页面显隐不需要通过账单信息是否为0来判定，而是通过获取信息的status为OK还是fail；如果为fail不应当弹出信息提示
获取账单信息失败而只是显示无数据展示的页面
*****（更正，还是需要判断0来判断页面的显隐，因为我发现我数据为0的状态返回也是OK只是数据为0。fail可能表示卡为空，故而去查询
会返回fail,现在是提示"账单信息获取失败，请稍后重试！"，应该提示“您未实名，请至少添加一张杭州通卡用于查询！”）

3.发现冯X问题，用户level为2，也就是已实名但获取卡号为fail也就是连市民卡都获取不到。我的和朋友测试的都是level2，但她的就没有绑定市民卡

4.返回查询不同月份的时候，即便数据为0但柱形图展示的仍是上次有数据的高度，除非不为零就会变更状态